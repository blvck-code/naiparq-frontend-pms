<div class="naiparq-table-wrap naiparq-scrollbar">
  <div class="naiparq-table-title">
    <p class="naiparq-table-date">December 09, 2022</p>

    <div class="cash-table-btns d-flex">
      <button
        data-bs-toggle="modal"
        data-bs-target="#addNumberPlate"
        class="naiparq-btn naiparq-btn-primary me-2"
      >
        Add Device
      </button>

      <button class="filter-btn alt-btn">
        <svg
          width="14"
          height="10"
          viewBox="0 0 14 10"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M2.83325 4.16668H11.1666V5.83334H2.83325V4.16668ZM0.333252 0.833344H13.6666V2.50001H0.333252V0.833344ZM5.33325 7.50001H8.66658V9.16668H5.33325V7.50001Z"
          />
        </svg>
        Filters
      </button>
    </div>
  </div>

  <div class="naiparq-table-content">
    <table class="table">
      <thead class="table-nav sticky-top">
        <tr>
          <th scope="col">
            <span class="table-title">Device Name</span>
          </th>
          <th scope="col">
            <span class="table-title">Space</span>
          </th>
          <th scope="col">
            <span class="table-title">Type</span>
          </th>
          <th scope="col">
            <span class="table-title">Serial number</span>
          </th>
          <th scope="col">
            <span class="table-title">Purpose</span>
          </th>
          <th scope="col">
            <span class="table-title">Status</span>
          </th>
          <th scope="col">
            <span class="table-title">Action</span>
          </th>
        </tr>
      </thead>
      <!-- Loading assets -->
      <tbody
        *ngIf="!(devicesLoaded$ | async) && !(devices$ | async)?.length"
        class="table-body"
      >
        <tr *ngFor="let device of numSeq(4)">
          <td>
            <div class="table-text">
              <ngx-skeleton-loader
                [theme]="{
                  'width.px': 120,
                  'borderRadius.px': 10
                }"
                animation="pulse"
              ></ngx-skeleton-loader>
            </div>
          </td>

          <td>
            <div class="table-text">
              <ngx-skeleton-loader
                [theme]="{
                  'width.px': 120,
                  'borderRadius.px': 10
                }"
                animation="pulse"
              ></ngx-skeleton-loader>
            </div>
          </td>

          <td>
            <div class="table-text">
              <ngx-skeleton-loader
                [theme]="{
                  'width.px': 120,
                  'borderRadius.px': 10
                }"
                animation="pulse"
              ></ngx-skeleton-loader>
            </div>
          </td>

          <td>
            <div class="table-text">
              <ngx-skeleton-loader
                [theme]="{
                  'width.px': 120,
                  'borderRadius.px': 10
                }"
                animation="pulse"
              ></ngx-skeleton-loader>
            </div>
          </td>

          <td>
            <div class="table-text">
              <ngx-skeleton-loader
                [theme]="{
                  'width.px': 120,
                  'borderRadius.px': 10
                }"
                animation="pulse"
              ></ngx-skeleton-loader>
            </div>
          </td>

          <td>
            <div class="table-text">
              <ngx-skeleton-loader
                [theme]="{
                  'width.px': 120,
                  'borderRadius.px': 10
                }"
                animation="pulse"
              ></ngx-skeleton-loader>
            </div>
          </td>

          <!--        Actions -->
          <td>
            <div class="table-text table-actions d-flex">
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M17.5 5.99113L14.0089 2.5C13.8928 2.38392 13.755 2.29184 13.6034 2.22902C13.4517 2.1662 13.2892 2.13387 13.125 2.13387C12.9609 2.13387 12.7983 2.1662 12.6467 2.22902C12.495 2.29184 12.3572 2.38392 12.2411 2.5L10.1832 4.55795L10.1831 4.55807L10.183 4.55818L2.86618 11.875C2.74972 11.9908 2.6574 12.1285 2.59454 12.2802C2.53169 12.432 2.49956 12.5946 2.5 12.7589V16.25C2.50038 16.5814 2.6322 16.8991 2.86654 17.1335C3.10088 17.3678 3.4186 17.4996 3.75 17.5H7.24114C7.40536 17.5004 7.56803 17.4683 7.71975 17.4055C7.87146 17.3426 8.00921 17.2503 8.125 17.1339L17.5 7.75886C17.7341 7.52426 17.8655 7.20639 17.8655 6.87499C17.8655 6.5436 17.7341 6.22573 17.5 5.99113ZM15 8.49113L11.5089 5L13.125 3.38387L16.6161 6.875L15 8.49113Z"
                  fill="#4BC1F1"
                />
              </svg>

              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M6.875 2.5H13.125C13.2908 2.5 13.4497 2.43415 13.5669 2.31694C13.6842 2.19973 13.75 2.04076 13.75 1.875C13.75 1.70924 13.6842 1.55027 13.5669 1.43306C13.4497 1.31585 13.2908 1.25 13.125 1.25H6.875C6.70924 1.25 6.55027 1.31585 6.43306 1.43306C6.31585 1.55027 6.25 1.70924 6.25 1.875C6.25 2.04076 6.31585 2.19973 6.43306 2.31694C6.55027 2.43415 6.70924 2.5 6.875 2.5Z"
                  fill="#4BC1F1"
                />
                <path
                  d="M16.875 3.75H3.125C2.95924 3.75 2.80027 3.81585 2.68306 3.93306C2.56585 4.05027 2.5 4.20924 2.5 4.375C2.5 4.54076 2.56585 4.69973 2.68306 4.81694C2.80027 4.93415 2.95924 5 3.125 5H3.75V16.25C3.75033 16.5814 3.88213 16.8992 4.11648 17.1335C4.35083 17.3679 4.66858 17.4997 5 17.5H15C15.3314 17.4997 15.6492 17.3679 15.8835 17.1335C16.1179 16.8992 16.2497 16.5814 16.25 16.25V5H16.875C17.0408 5 17.1997 4.93415 17.3169 4.81694C17.4342 4.69973 17.5 4.54076 17.5 4.375C17.5 4.20924 17.4342 4.05027 17.3169 3.93306C17.1997 3.81585 17.0408 3.75 16.875 3.75ZM8.75 13.125C8.75 13.2908 8.68415 13.4497 8.56694 13.5669C8.44973 13.6842 8.29076 13.75 8.125 13.75C7.95924 13.75 7.80027 13.6842 7.68306 13.5669C7.56585 13.4497 7.5 13.2908 7.5 13.125V8.125C7.5 7.95924 7.56585 7.80027 7.68306 7.68306C7.80027 7.56585 7.95924 7.5 8.125 7.5C8.29076 7.5 8.44973 7.56585 8.56694 7.68306C8.68415 7.80027 8.75 7.95924 8.75 8.125V13.125ZM12.5 13.125C12.5 13.2908 12.4342 13.4497 12.3169 13.5669C12.1997 13.6842 12.0408 13.75 11.875 13.75C11.7092 13.75 11.5503 13.6842 11.4331 13.5669C11.3158 13.4497 11.25 13.2908 11.25 13.125V8.125C11.25 7.95924 11.3158 7.80027 11.4331 7.68306C11.5503 7.56585 11.7092 7.5 11.875 7.5C12.0408 7.5 12.1997 7.56585 12.3169 7.68306C12.4342 7.80027 12.5 7.95924 12.5 8.125V13.125Z"
                  fill="#4BC1F1"
                />
              </svg>
            </div>
          </td>
        </tr>
      </tbody>

      <!--      Devices -->
      <tbody class="table-body">
        <tr *ngFor="let device of devices$ | async">
          <td>
            <div class="table-text">
              <span>{{ device.name }}</span>
            </div>
          </td>

          <td>
            <div class="table-text">
              <!--    Todo get space name -->
              <span>Complex Building</span>
            </div>
          </td>

          <td>
            <div class="table-text">
              <span>{{ device.asset_type | titlecase }}</span>
            </div>
          </td>

          <td>
            <div class="table-text">
              <span>{{ device.serial_number }}</span>
            </div>
          </td>

          <td>
            <div class="table-text">
              <span>{{ device.purpose | titlecase }}</span>
            </div>
          </td>

          <!--        Buttons -->
          <td>
            <div class="table-button">
              <button
                *ngIf="device.status === 'online'"
                class="naiparq-btn naiparq-btn-success"
              >
                Online
              </button>
              <button
                *ngIf="device.status === 'offline'"
                class="naiparq-btn naiparq-btn-danger"
              >
                Offline
              </button>
            </div>
          </td>

          <!--        Actions -->
          <td>
            <div class="table-text table-actions d-flex">
              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M17.5 5.99113L14.0089 2.5C13.8928 2.38392 13.755 2.29184 13.6034 2.22902C13.4517 2.1662 13.2892 2.13387 13.125 2.13387C12.9609 2.13387 12.7983 2.1662 12.6467 2.22902C12.495 2.29184 12.3572 2.38392 12.2411 2.5L10.1832 4.55795L10.1831 4.55807L10.183 4.55818L2.86618 11.875C2.74972 11.9908 2.6574 12.1285 2.59454 12.2802C2.53169 12.432 2.49956 12.5946 2.5 12.7589V16.25C2.50038 16.5814 2.6322 16.8991 2.86654 17.1335C3.10088 17.3678 3.4186 17.4996 3.75 17.5H7.24114C7.40536 17.5004 7.56803 17.4683 7.71975 17.4055C7.87146 17.3426 8.00921 17.2503 8.125 17.1339L17.5 7.75886C17.7341 7.52426 17.8655 7.20639 17.8655 6.87499C17.8655 6.5436 17.7341 6.22573 17.5 5.99113ZM15 8.49113L11.5089 5L13.125 3.38387L16.6161 6.875L15 8.49113Z"
                  fill="#4BC1F1"
                />
              </svg>

              <svg
                width="20"
                height="20"
                viewBox="0 0 20 20"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M6.875 2.5H13.125C13.2908 2.5 13.4497 2.43415 13.5669 2.31694C13.6842 2.19973 13.75 2.04076 13.75 1.875C13.75 1.70924 13.6842 1.55027 13.5669 1.43306C13.4497 1.31585 13.2908 1.25 13.125 1.25H6.875C6.70924 1.25 6.55027 1.31585 6.43306 1.43306C6.31585 1.55027 6.25 1.70924 6.25 1.875C6.25 2.04076 6.31585 2.19973 6.43306 2.31694C6.55027 2.43415 6.70924 2.5 6.875 2.5Z"
                  fill="#4BC1F1"
                />
                <path
                  d="M16.875 3.75H3.125C2.95924 3.75 2.80027 3.81585 2.68306 3.93306C2.56585 4.05027 2.5 4.20924 2.5 4.375C2.5 4.54076 2.56585 4.69973 2.68306 4.81694C2.80027 4.93415 2.95924 5 3.125 5H3.75V16.25C3.75033 16.5814 3.88213 16.8992 4.11648 17.1335C4.35083 17.3679 4.66858 17.4997 5 17.5H15C15.3314 17.4997 15.6492 17.3679 15.8835 17.1335C16.1179 16.8992 16.2497 16.5814 16.25 16.25V5H16.875C17.0408 5 17.1997 4.93415 17.3169 4.81694C17.4342 4.69973 17.5 4.54076 17.5 4.375C17.5 4.20924 17.4342 4.05027 17.3169 3.93306C17.1997 3.81585 17.0408 3.75 16.875 3.75ZM8.75 13.125C8.75 13.2908 8.68415 13.4497 8.56694 13.5669C8.44973 13.6842 8.29076 13.75 8.125 13.75C7.95924 13.75 7.80027 13.6842 7.68306 13.5669C7.56585 13.4497 7.5 13.2908 7.5 13.125V8.125C7.5 7.95924 7.56585 7.80027 7.68306 7.68306C7.80027 7.56585 7.95924 7.5 8.125 7.5C8.29076 7.5 8.44973 7.56585 8.56694 7.68306C8.68415 7.80027 8.75 7.95924 8.75 8.125V13.125ZM12.5 13.125C12.5 13.2908 12.4342 13.4497 12.3169 13.5669C12.1997 13.6842 12.0408 13.75 11.875 13.75C11.7092 13.75 11.5503 13.6842 11.4331 13.5669C11.3158 13.4497 11.25 13.2908 11.25 13.125V8.125C11.25 7.95924 11.3158 7.80027 11.4331 7.68306C11.5503 7.56585 11.7092 7.5 11.875 7.5C12.0408 7.5 12.1997 7.56585 12.3169 7.68306C12.4342 7.80027 12.5 7.95924 12.5 8.125V13.125Z"
                  fill="#4BC1F1"
                />
              </svg>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <div *ngIf="(devicesLoaded$ | async) && !(devices$ | async)?.length">
      <h4 class="dark:text-[#FFF] text-lg">
        No devices/assets in your profile.
      </h4>
    </div>

    <!--    Todo show when loading more content -->
    <app-inline-loader *ngIf="!(devicesLoaded$ | async)"></app-inline-loader>
  </div>
</div>

<!-- Modal -->
<div
  class="modal fade add-plate-modal"
  id="addNumberPlate"
  tabindex="-1"
  aria-labelledby="addNumberPlate"
  aria-hidden="true"
>
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Add Device</h5>
        <button
          type="button"
          class="btn-close naiparq-close-btn"
          data-bs-dismiss="modal"
          aria-label="Close"
          #closeDriveIn
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="none"
            viewBox="0 0 24 24"
            stroke-width="1.5"
            stroke="currentColor"
            class="w-6 h-6"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              d="M6 18L18 6M6 6l12 12"
            />
          </svg>
        </button>
      </div>
      <form class="modal-body">
        <div class="naiparq-form-group">
          <label for="nPlate">Device name</label>
          <input
            formControlName="license_plate"
            type="text"
            id="nPlate"
            class="naiparq-form-input"
          />
        </div>
        <div class="naiparq-form-group">
          <label for="nPlate">Device name</label>
          <input
            formControlName="license_plate"
            type="text"
            id="nPlate"
            class="naiparq-form-input"
          />
        </div>

        <div class="naiparq-form-group">
          <label class="pb-2" for="photo">Photo</label>
          <fieldset
            (click)="clickEditIcon()"
            class="profile-img-box flex flex-col"
          >
            <img
              *ngIf="deviceImg"
              (click)="clickEditIcon()"
              [src]="deviceImg"
              alt=""
            />
            <div *ngIf="!deviceImg" class="edit-icon">
              <svg
                width="42"
                height="37"
                viewBox="0 0 42 37"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M15.7072 14.8319C17.2884 14.8319 18.5702 13.5501 18.5702 11.9689C18.5702 10.3878 17.2884 9.10596 15.7072 9.10596C14.126 9.10596 12.8442 10.3878 12.8442 11.9689C12.8442 13.5501 14.126 14.8319 15.7072 14.8319Z"
                  fill="#4BC1F1"
                />
                <path
                  d="M39.2071 22.5063C37.8551 21.2338 36.1453 20.3988 34.2764 20.1602V5.60669C34.2764 4.0559 33.6401 2.66417 32.646 1.63031C31.6122 0.596457 30.2205 0 28.6697 0H5.60669C4.0559 0 2.66417 0.63622 1.63031 1.63031C0.596456 2.66417 0 4.0559 0 5.60669V23.9378V25.6476V29.3457C0 30.8964 0.63622 32.2882 1.63031 33.322C2.66417 34.3559 4.0559 34.9523 5.60669 34.9523H27.9142C29.3854 36.1453 31.2146 36.9008 33.2425 36.9008C35.5886 36.9008 37.696 35.9464 39.2071 34.4354C40.7181 32.9244 41.6724 30.8169 41.6724 28.4708C41.6724 26.1248 40.7181 24.0173 39.2071 22.5063ZM2.10748 5.60669C2.10748 4.65236 2.50512 3.77756 3.14134 3.14134C3.77756 2.50512 4.65236 2.10748 5.60669 2.10748H28.6697C29.624 2.10748 30.4988 2.50512 31.135 3.14134C31.7712 3.77756 32.1689 4.65236 32.1689 5.60669V18.013L26.2838 12.1677C25.8862 11.7701 25.2102 11.7303 24.7728 12.1677L15.9055 21.0748L9.90118 15.0307C9.50354 14.6331 8.82756 14.5933 8.39015 15.0307L2.10748 21.3929V5.60669ZM5.56693 32.8846V32.8449C4.6126 32.8449 3.73779 32.4472 3.10157 31.811C2.50512 31.1748 2.10748 30.3 2.10748 29.3457V25.6476V24.3752L9.18543 17.2972L15.1898 23.3016C15.5874 23.6992 16.2634 23.6992 16.7008 23.3016L25.5681 14.3945L31.3736 20.2398C31.2543 20.2795 31.135 20.3193 31.0157 20.359C30.8567 20.3988 30.6976 20.4386 30.4988 20.5181C30.3398 20.5579 30.1807 20.6374 30.0216 20.6772C29.9023 20.7169 29.8228 20.7567 29.7035 20.8362C29.5445 20.9157 29.4252 20.9555 29.3059 21.035C29.1071 21.1543 28.9083 21.2736 28.7094 21.3929C28.5901 21.4724 28.5106 21.5122 28.3913 21.5917C28.3118 21.6315 28.272 21.6712 28.1925 21.711C27.8346 21.9496 27.5165 22.2279 27.2382 22.5461C25.7272 24.0571 24.7728 26.1646 24.7728 28.5106C24.7728 29.1071 24.8524 29.6638 24.9716 30.2602C25.0114 30.4193 25.0512 30.5386 25.0909 30.6976C25.2102 31.0953 25.3295 31.4929 25.4886 31.8905V31.9303C25.6476 32.2484 25.8067 32.6063 26.0055 32.8846H5.56693ZM37.6563 32.9244C36.5031 34.0775 34.9523 34.7535 33.2027 34.7535C31.5327 34.7535 29.9819 34.0775 28.8685 33.0039C28.7094 32.8449 28.5504 32.646 28.3913 32.487C28.272 32.3677 28.1527 32.2086 28.0335 32.0894C27.8744 31.8905 27.7551 31.652 27.6358 31.4134C27.5563 31.2543 27.4768 31.135 27.3972 30.976C27.3177 30.7771 27.2382 30.5386 27.1984 30.3C27.1587 30.1409 27.0791 29.9421 27.0394 29.7831C26.9598 29.3854 26.9201 28.948 26.9201 28.5106C26.9201 26.761 27.6358 25.2102 28.7492 24.0571C29.9024 22.9039 31.4531 22.2279 33.2027 22.2279C34.9523 22.2279 36.5031 22.9437 37.6563 24.0571C38.8094 25.1705 39.4854 26.761 39.4854 28.5106C39.4854 30.2205 38.7697 31.7712 37.6563 32.9244Z"
                  fill="#4BC1F1"
                />
                <path
                  d="M36.6624 27.3976H34.2368V24.9721C34.2368 24.3756 33.7596 23.8984 33.1632 23.8984C32.5667 23.8984 32.0895 24.3756 32.0895 24.9721V27.3976H29.664C29.0675 27.3976 28.5903 27.8748 28.5903 28.4713C28.5903 29.0677 29.0675 29.5449 29.664 29.5449H32.0895V31.9705C32.0895 32.5669 32.5667 33.0441 33.1632 33.0441C33.7596 33.0441 34.2368 32.5669 34.2368 31.9705V29.5449H36.6624C37.2588 29.5449 37.736 29.0677 37.736 28.4713C37.736 27.8748 37.2588 27.3976 36.6624 27.3976Z"
                  fill="#4BC1F1"
                />
              </svg>
              <p class="underline text-[#4BC1f1]">Upload Photo</p>
            </div>
            <input
              #devicePhoto
              style="display: none"
              (change)="uploadProfilePic($event)"
              type="file"
            />
          </fieldset>
        </div>

        <div class="naiparq-form-group">
          <button class="naiparq-btn naiparq-btn-primary" type="submit">
            <span class="btn-text">Submit</span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
